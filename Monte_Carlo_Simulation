import numpy as np
import random

S = 100 #stock price S_{0}
K = 110 # strike
T = 1 # time to maturity
r = 0.05 # risk free risk in annual %
q = 0.02 # annual dividend rate
sigma = 0.25 # annual volatility in %
steps = 100 # time steps
N = 100000 # number of trials

def montecarlo_price(vol, r, nb_simu,maturity,strike,spot):
        gauss_sample = generate_normal_random_numbers(nb_simu)
        mc_price = 0
        for rand_spot in gauss_sample:
            spot_sim = spot * np.exp(vol * np.sqrt(maturity) * rand_spot - vol * vol * maturity / 2)
            if spot_sim < strike:
                mc_price = mc_price - (spot_sim - strike) / gauss_sample._len_()
        return mc_price
    
def generate_normal_random_numbers(n):
    d = []
    for i in range(n):
        d.append(random.gauss(0, 1))
    return d

print(montecarlo_price(sigma,r,N,T,K,S))
